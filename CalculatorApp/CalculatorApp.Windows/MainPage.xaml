<Page
    x:Class="CalculatorApp.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:CalculatorApp"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">
	<Page.Resources>
		<Flyout x:Key="FlyoutBase1">
			<Grid Background="#FF426FA0" Height="580" Width="400">
				<ListView ItemsSource="{Binding Substitutions}" Margin="0,103,0,0">
    		<ListView.ItemTemplate>
    			<DataTemplate><local:SubstitutionControl Width="Auto" HorizontalAlignment="Stretch"/></DataTemplate>
    		</ListView.ItemTemplate>

    		<ListView.ItemContainerStyle>
    			<Style TargetType="ListViewItem">
    				<Setter Property="HorizontalContentAlignment" Value="Stretch" />
    			</Style>
    		</ListView.ItemContainerStyle>

    	</ListView>
				<TextBlock HorizontalAlignment="Left" Margin="10,10,0,0" TextWrapping="Wrap" Text="Substitutions" VerticalAlignment="Top" Foreground="White" FontSize="40" FontFamily="Segoe WP" FontWeight="Light"/>
				<TextBlock Margin="10,63,10,0" TextWrapping="Wrap" VerticalAlignment="Top" Foreground="White" FontSize="13.333" FontFamily="Segoe WP">
					<Run Text="When you write an expressio"/>
					<Run Text="n on the left"/>
					<Run Text=" and"/>
					<Run Text=" it will get replaced with the one on the right"/>
				</TextBlock>
				<AppBarButton Icon="Add" Label="" Foreground="White" BorderBrush="White" Margin="0,0,0,-24" VerticalAlignment="Bottom" HorizontalAlignment="Center" Click="addSub"/>
		
			</Grid>
		</Flyout>
		<Style x:Key="nohover" TargetType="ListView">
			<Setter Property="IsTabStop" Value="False"/>
			<Setter Property="TabNavigation" Value="Once"/>
			<Setter Property="IsSwipeEnabled" Value="True"/>
			<Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Disabled"/>
			<Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Auto"/>
			<Setter Property="ScrollViewer.HorizontalScrollMode" Value="Disabled"/>
			<Setter Property="ScrollViewer.IsHorizontalRailEnabled" Value="False"/>
			<Setter Property="ScrollViewer.VerticalScrollMode" Value="Enabled"/>
			<Setter Property="ScrollViewer.IsVerticalRailEnabled" Value="False"/>
			<Setter Property="ScrollViewer.ZoomMode" Value="Disabled"/>
			<Setter Property="ScrollViewer.IsDeferredScrollingEnabled" Value="False"/>
			<Setter Property="ScrollViewer.BringIntoViewOnFocusChange" Value="True"/>
			<Setter Property="ItemContainerTransitions">
				<Setter.Value>
					<TransitionCollection>
						<AddDeleteThemeTransition/>
						<ContentThemeTransition/>
						<ReorderThemeTransition/>
						<EntranceThemeTransition IsStaggeringEnabled="False"/>
					</TransitionCollection>
				</Setter.Value>
			</Setter>
			<Setter Property="ItemsPanel">
				<Setter.Value>
					<ItemsPanelTemplate>
						<ItemsStackPanel Orientation="Vertical"/>
					</ItemsPanelTemplate>
				</Setter.Value>
			</Setter>
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="ListView">
						<Border BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="transparent">
							<ScrollViewer x:Name="ScrollViewer" AutomationProperties.AccessibilityView="Raw" BringIntoViewOnFocusChange="{TemplateBinding ScrollViewer.BringIntoViewOnFocusChange}" HorizontalScrollMode="{TemplateBinding ScrollViewer.HorizontalScrollMode}" HorizontalScrollBarVisibility="{TemplateBinding ScrollViewer.HorizontalScrollBarVisibility}" IsHorizontalRailEnabled="{TemplateBinding ScrollViewer.IsHorizontalRailEnabled}" IsHorizontalScrollChainingEnabled="{TemplateBinding ScrollViewer.IsHorizontalScrollChainingEnabled}" IsVerticalScrollChainingEnabled="{TemplateBinding ScrollViewer.IsVerticalScrollChainingEnabled}" IsVerticalRailEnabled="{TemplateBinding ScrollViewer.IsVerticalRailEnabled}" IsDeferredScrollingEnabled="{TemplateBinding ScrollViewer.IsDeferredScrollingEnabled}" TabNavigation="{TemplateBinding TabNavigation}" VerticalScrollBarVisibility="{TemplateBinding ScrollViewer.VerticalScrollBarVisibility}" VerticalScrollMode="{TemplateBinding ScrollViewer.VerticalScrollMode}" ZoomMode="{TemplateBinding ScrollViewer.ZoomMode}">
								<ItemsPresenter FooterTransitions="{TemplateBinding FooterTransitions}" FooterTemplate="{TemplateBinding FooterTemplate}" Footer="{TemplateBinding Footer}" HeaderTemplate="{TemplateBinding HeaderTemplate}" Header="{TemplateBinding Header}" HeaderTransitions="{TemplateBinding HeaderTransitions}" Padding="{TemplateBinding Padding}"/>
							</ScrollViewer>
						</Border>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style>

		<SolidColorBrush x:Key="ListViewItemPointerOverBackgroundThemeBrush" Color="Red"></SolidColorBrush>

	</Page.Resources>
	<Page.BottomAppBar>
		<CommandBar Background="#FF005A95">
			<AppBarButton x:Name="btnAddLine" Icon="Add" Label="add line" Foreground="White" Click="addLine" IsEnabled="False"/>
			<AppBarButton Icon="Add" Label="add sheet" Click="add"/>
			<AppBarButton Icon="Setting" Label="settings" Flyout="{StaticResource FlyoutBase1}"/>
			<AppBarButton x:Name="btnSubs" Icon="Shuffle" Label="substitutions" Flyout="{StaticResource FlyoutBase1}" IsEnabled="False"/>
		</CommandBar>
	</Page.BottomAppBar>

    <Grid Background="#FF0071BC">
	<Image Margin="0,0,-245,-88" Source="Assets/SplashScreen.scale-100.png" Stretch="Fill" Height="300" VerticalAlignment="Bottom" HorizontalAlignment="Right" Width="620"/>
	<Grid x:Name="root" Margin="423,0,0,0" HorizontalAlignment="Left" Width="616" Background="#FFE7E7E7">
    	<Grid x:Name="results" Width="70" HorizontalAlignment="Right" Background="#0C000000"/>
    	<!--<ScrollViewer>

    		<StackPanel x:Name="holder" Orientation="Vertical" VerticalAlignment="Top">
    			<local:SyntaxLabel VerticalAlignment="Top" Text="salary = 400 + 500" Margin="0"/>
    			<local:SyntaxLabel VerticalAlignment="Top" Text="bills = 200 * 5 people" Margin="0"/>
    			<local:SyntaxLabel VerticalAlignment="Top" Text="( 15 + salary ) - bills * 5" Margin="0"/>
				
    		</StackPanel>

			
    	</ScrollViewer>-->
		<ListView ItemsSource="{Binding Lines}"  Style="{StaticResource nohover}" x:Name="actualList" >
			<ListView.ItemTemplate>
				<DataTemplate><local:SyntaxLabel Width="Auto" HorizontalAlignment="Stretch"/></DataTemplate>
			</ListView.ItemTemplate>

			<ListView.ItemContainerStyle>
    <Style TargetType="ListViewItem">
        <Setter Property="HorizontalContentAlignment" Value="Stretch" />
    </Style>
</ListView.ItemContainerStyle>

		</ListView>
    </Grid>
    	<Grid HorizontalAlignment="Left" Width="400" Margin="0,94,0,0">
    		
    		<ListView x:Name="list" SelectionMode="None" Style="{StaticResource nohover}" Background="#FF426FA0">
    			<ListView.ItemTemplate>
    				<DataTemplate>
    					<local:SheetPreview/>
    				</DataTemplate>
    			</ListView.ItemTemplate>

    			<ListView.ItemContainerStyle>
    				<Style TargetType="ListViewItem">
    					<Setter Property="HorizontalContentAlignment" Value="Stretch" />
    				</Style>
    			</ListView.ItemContainerStyle>
    		</ListView>

    	</Grid>
    	<StackPanel Margin="0,0,966,0" Orientation="Vertical" VerticalAlignment="Top">
    		<StackPanel.ChildrenTransitions>
    			<TransitionCollection>
    				<EntranceThemeTransition FromVerticalOffset="40" FromHorizontalOffset="0"/>
    			</TransitionCollection>
    		</StackPanel.ChildrenTransitions>
    		<TextBlock x:Name="textBlock" HorizontalAlignment="Center" Margin="33,0,32,0" TextWrapping="Wrap" VerticalAlignment="Top" Foreground="White" FontSize="40" FontFamily="Segoe WP" FontWeight="Light" Text="Sheets"/>
    		<TextBlock x:Name="textBlock1" HorizontalAlignment="Center" TextWrapping="Wrap" Text="A sheet is a list of calculations" VerticalAlignment="Top" Foreground="White" FontSize="13.333" FontFamily="Segoe WP">
    			<TextBlock.Projection>
    				<PlaneProjection/>
    			</TextBlock.Projection>
    		</TextBlock>

    	</StackPanel>
    </Grid>
</Page>
